<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í—¬ìŠ¤ì¼€ì–´ ì„œë¹„ìŠ¤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
        }

        /* ë©”ì¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .main-page {
            display: block;
        }

        .header {
            background: url('/private_main.png') center center / cover no-repeat;
            color: #333;
            padding: 30px 20px;
            text-align: left;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            min-height: 200px;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .main-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 12px;
            line-height: 1.3;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .main-title.loaded {
            opacity: 1;
        }

        .subtitle {
            font-size: 15px;
            opacity: 0.9;
        }

        .loading-message {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            text-align: center;
            color: rgba(255,255,255,0.8);
        }

        /* ë©”ì¸ ì„œë¹„ìŠ¤ ë²„íŠ¼ë“¤ */
        .main-services {
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .service-button {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 16px;
            padding: 20px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .service-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #3498db;
        }

        .service-button-icon {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .service-button-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 6px;
        }

        .service-button-subtitle {
            font-size: 13px;
            color: #666;
        }

        /* ìƒì„¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .detail-page {
            display: none;
        }

        .detail-header {
            background: #ededed;
            color: #333;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-button {
            background: none;
            border: none;
            color: #333;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }

        .detail-title {
            font-size: 20px;
            font-weight: bold;
        }

        .detail-content {
            padding: 30px 20px;
        }

        .service-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .service-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .service-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .service-icon.hospital {
            background: #c8f7c5;
            color: #333;
        }

        .service-icon.checkup {
            background: #a3d9f0;
            color: #333;
        }

        .service-card-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .service-description {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .service-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .feature-tag {
            background: #f8f9fa;
            color: #495057;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        .book-button {
            flex: 1;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .detail-button {
            flex: 1;
            background: white;
            color: #3498db;
            border: 2px solid #3498db;
            padding: 15px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .book-button:hover {
            background: linear-gradient(135deg, #2980b9, #1f4788);
            transform: translateY(-1px);
        }

        .detail-button:hover {
            background: #3498db;
            color: white;
            transform: translateY(-1px);
        }

        .process-section {
            background: #f8f9fa;
            padding: 30px 20px;
            margin: 20px 0;
            border-radius: 16px;
        }

        .process-title {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 25px;
            color: #2c3e50;
        }

        .process-steps {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .process-step {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 18px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .step-number {
            width: 36px;
            height: 36px;
            min-width: 36px;
            border-radius: 50%;
            background: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-size: 15px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 4px;
        }

        .step-description {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
        }

        /* í‘¸í„° */
        .footer {
            background: #ededed;
            color: #333;
            padding: 30px 20px;
            text-align: center;
        }

        .footer-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .footer-button {
            flex: 1;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .footer-button.kakao {
            background: #F7E600;
            color: #333;
        }

        .footer-button.phone {
            background: #b3b3b3;
            color: white;
        }

        .footer-button.kakao:hover {
            background: #e6d100;
        }

        .footer-button.phone:hover {
            background: #999999;
        }

        .footer-button:hover {
            transform: translateY(-2px);
        }

        .footer-text {
            font-size: 14px;
            opacity: 0.8;
            line-height: 1.5;
            color: #666;
        }

        .powered-by {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #dee2e6;
            font-size: 12px;
            opacity: 0.6;
            color: #999;
        }

        .notice-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .notice-item {
            font-size: 13px;
            color: #555;
            line-height: 1.5;
            margin-bottom: 8px;
            padding-left: 12px;
            position: relative;
        }

        .notice-item:before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: #3498db;
            font-weight: bold;
        }

        .notice-item:last-child {
            margin-bottom: 0;
        }

        .highlight {
            background: linear-gradient(120deg, #a8e6cf 0%, #dcedc1 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
        }

        .highlight.checkup {
            background: linear-gradient(120deg, #87ceeb 0%, #c0fcf0 100%);
        }

        .highlight-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .highlight-text {
            font-size: 14px;
            color: #555;
        }

        @media (max-width: 375px) {
            .process-steps {
                flex-direction: column;
                gap: 10px;
            }
            
            .service-card {
                padding: 20px;
            }

            .button-group {
                flex-direction: column;
            }

            .footer-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ë©”ì¸ í˜ì´ì§€ -->
        <div id="main-page" class="main-page">
            <div class="header">
                <div class="header-content">
                    <div class="loading-message" id="loading-message">
                        <div>íšŒì› ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                    </div>
                    
                    <h1 class="main-title" id="main-title"></h1>
                    <p class="subtitle" id="member-info"></p>
                </div>
            </div>

            <div class="main-services">
                <div class="service-button" onclick="showDetailPage('specialist')">
                    <div class="service-button-icon">ğŸ¥</div>
                    <div class="service-button-title">ëŒ€í•™ë³‘ì› ëª…ì˜ ì¶”ì²œ ì˜ˆì•½</div>
                    <div class="service-button-subtitle">Big6 ë³‘ì›ì„ ì‰½ê³  ë¹ ë¥´ê²Œ</div>
                </div>

                <div class="service-button" onclick="showDetailPage('checkup')">
                    <div class="service-button-icon">ğŸ”¬</div>
                    <div class="service-button-title">ê±´ê°•ê²€ì§„ ì¶”ì²œ ì˜ˆì•½</div>
                    <div class="service-button-subtitle">ë§ì¶¤ íë ˆì´ì…˜ì— ìµœëŒ€ 48% í• ì¸ê¹Œì§€</div>
                </div>
            </div>
        </div>

        <!-- ìƒê¸‰ì¢…í•©ë³‘ì› ìƒì„¸ í˜ì´ì§€ -->
        <div id="specialist-page" class="detail-page">
            <div class="detail-header">
                <button class="back-button" onclick="showMainPage()">â†</button>
                <div class="detail-title">ëŒ€í•™ë³‘ì› ëª…ì˜ ì¶”ì²œ ì˜ˆì•½</div>
            </div>

            <div class="detail-content">
                <div class="highlight">
                    <div class="highlight-title">ğŸ¯ í•˜ë£¨ë§Œì— ì‰½ê³  ë¹ ë¥´ê²Œ</div>
                    <div class="highlight-text">í° ë³‘ì› ëª…ì˜ ì˜ˆì•½ ì™„ë£Œ</div>
                </div>

                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon hospital">ğŸ¥</div>
                        <div>
                            <div class="service-card-title">ëŒ€í•™ë³‘ì› ëª…ì˜ ì¶”ì²œ ì˜ˆì•½</div>
                        </div>
                    </div>
                    <div class="service-description">
                        í° ë³‘ì›ì´ í•„ìš”í•  ë•Œ, í•˜ë£¨ë§Œì— Big6 ìƒê¸‰ì¢…í•©ë³‘ì› ëª…ì˜ ë¹ ë¥¸ ì˜ˆì•½ì„ ì¡ì•„ ë“œë¦½ë‹ˆë‹¤.
                    </div>
                    <div class="service-features">
                        <div class="feature-tag">Big6 ìƒê¸‰ì¢…í•©ë³‘ì›</div>
                        <div class="feature-tag">ë§ì¶¤ ëª…ì˜ ì¶”ì²œ</div>
                        <div class="feature-tag">ë¹ ë¥¸ ì˜ˆì•½</div>
                    </div>
                    <button class="book-button" onclick="bookService('specialist')">
                        ì˜ˆì•½ ì‹ ì²­í•˜ê¸°
                    </button>
                </div>

                <div class="process-section">
                    <h3 class="process-title">ğŸ“‹ ì„œë¹„ìŠ¤ ì´ìš© ê³¼ì •</h3>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">ì§„ë£Œì˜ë¢°ì„œ ì—…ë¡œë“œ</div>
                                <div class="step-description">ë³‘ì˜ì›ì—ì„œ ë°›ì€ ì§„ë£Œì˜ë¢°ì„œë¥¼ ì‹ ì²­ì„œì— ì—…ë¡œë“œí•©ë‹ˆë‹¤</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">ì¶”ì²œ ëª…ì˜ í™•ì¸</div>
                                <div class="step-description">ì¹´í†¡ìœ¼ë¡œ ì¶”ì²œ ëª…ì˜ ì •ë³´ì™€ ë¹ ë¥¸ ì˜ˆì•½ì‹œê°„ì„ í™•ì¸í•©ë‹ˆë‹¤</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">ì „ë¬¸ì˜ ì„ íƒí•˜ë©´ ì˜ˆì•½ ì™„ë£Œ!</div>
                                <div class="step-description">ë§Œë‚˜ê³  ì‹¶ì€ ëª…ì˜ë¥¼ ì„ íƒí•˜ë©´ ì˜ˆì•½ì´ ì™„ë£Œë©ë‹ˆë‹¤</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ê±´ê°•ê²€ì§„ ìƒì„¸ í˜ì´ì§€ -->
        <div id="checkup-page" class="detail-page">
            <div class="detail-header">
                <button class="back-button" onclick="showMainPage()">â†</button>
                <div class="detail-title">ê±´ê°•ê²€ì§„ ì¶”ì²œ ì˜ˆì•½</div>
            </div>

            <div class="detail-content">
                <div class="highlight checkup">
                    <div class="highlight-title">ğŸ¯ ê³ í’ˆì§ˆ ê±´ê°•ê²€ì§„ì„ í•©ë¦¬ì ìœ¼ë¡œ</div>
                    <div class="highlight-text">ë§ì¶¤ íë ˆì´ì…˜ì— ìµœëŒ€ 48% í• ì¸ê¹Œì§€ (20ë§Œì›~)</div>
                </div>

                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon checkup">ğŸ”¬</div>
                        <div>
                            <div class="service-card-title">ê±´ê°•ê²€ì§„ ì¶”ì²œ ì˜ˆì•½</div>
                        </div>
                    </div>
                    <div class="service-description">
                        í”„ë¦¬ë¯¸ì—„ ëŒ€í•™ë³‘ì› ì„¼í„°ë¶€í„° í¸ë¦¬í•œ ê¸°ì—…í˜• ê²€ì§„ê¹Œì§€, ì „ë¬¸ ê°„í˜¸ì‚¬ê°€ ë‚´ ëª¸ì— í•„ìš”í•œ ê²€ì§„ì„ íë ˆì´ì…˜í•´ ìµœëŒ€ 48% í• ì¸ëœ í•©ë¦¬ì ì¸ ê°€ê²©ìœ¼ë¡œ ì˜ˆì•½í•´ ë“œë¦½ë‹ˆë‹¤.
                    </div>
                    <div class="service-features">
                        <div class="feature-tag">ì„¸ë¸Œë€ìŠ¤í—¬ìŠ¤ì²´í¬ì—…</div>
                        <div class="feature-tag">ì„œìš¸ëŒ€ë³‘ì›ê°•ë‚¨ì„¼í„°</div>
                        <div class="feature-tag">ìµœëŒ€ 48% í• ì¸</div>
                        <div class="feature-tag">ì¢…í•©ê²€ì§„</div>
                    </div>
                    <div class="button-group">
                        <button class="book-button" onclick="bookService('checkup')">
                            ì˜ˆì•½ ì‹ ì²­í•˜ê¸°
                        </button>
                        <button class="detail-button" onclick="openDetailLink('checkup')">
                            í”„ë¡œê·¸ë¨ ë³´ê¸°
                        </button>
                    </div>
                </div>

                <div class="process-section">
                    <h3 class="process-title">ğŸ“‹ ì„œë¹„ìŠ¤ ì´ìš© ê³¼ì •</h3>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">ë³‘ì› ë° í”„ë¡œê·¸ë¨ ì„ íƒ</div>
                                <div class="step-description">ì‹ ì²­ì„œì—ì„œ ê²€ì§„ ë°›ì„ ë³‘ì›ê³¼ í”„ë¡œê·¸ë¨ì„ ì„ íƒí•©ë‹ˆë‹¤</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">ì „ë¬¸ ê°„í˜¸ì‚¬ ìƒë‹´</div>
                                <div class="step-description">ì¹´í†¡ ë˜ëŠ” ì „í™” ìƒë‹´ìœ¼ë¡œ í”„ë¡œê·¸ë¨ê³¼ ë‚ ì§œë¥¼ í™•ì •í•©ë‹ˆë‹¤</div>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">í• ì¸ ì˜ˆì•½ ì™„ë£Œ</div>
                                <div class="step-description">ìµœëŒ€ 48% í• ì¸ëœ íŠ¹ë³„ê°€ë¡œ ê±´ê°•ê²€ì§„ ì˜ˆì•½ì´ ì™„ë£Œë©ë‹ˆë‹¤</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- í‘¸í„° -->
        <div class="footer">
            <div class="notice-section">
                <div class="notice-item">í•€ìŠ¤ì¼€ì–´ëŠ” í”„ë¼ì´ë¹— ë©¤ë²„ ì „ìš© ë³‘ì› ì˜ˆì•½ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.</div>
                <div class="notice-item">í° ë³‘ì›ì´ í•„ìš”í•  ë•Œ, 24ì‹œê°„(ì˜ì—…ì¼) ì•ˆì— ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëŒ€í•™ë³‘ì› ëª…ì˜ë¥¼ ì¶”ì²œí•˜ê³  ë¹ ë¥¸ ì˜ˆì•½ì„ ë„ì™€ ë“œë¦½ë‹ˆë‹¤.</div>
                <div class="notice-item">ê±´ê°•ê²€ì§„ì´ í•„ìš”í•  ë•Œ, ëª¸ ìƒíƒœì™€ ì˜ˆì‚°ì— ë§ëŠ” ê²€ì§„ì„¼í„°ì™€ í”„ë¡œê·¸ë¨ì„ ì¶”ì²œí•˜ê³  ìµœëŒ€ 48% í• ì¸ ì˜ˆì•½í•´ ë“œë¦½ë‹ˆë‹¤.</div>
                <div class="notice-item">ì„œë¹„ìŠ¤ ë¬¸ì˜ : 10:00 ~ 18:00 (ì›”~ê¸ˆ)</div>
            </div>
            <div class="footer-buttons">
                <button class="footer-button kakao" onclick="openKakaoChat()">
                    ğŸ’¬ ì¹´í†¡ ë¬¸ì˜
                </button>
                <button class="footer-button phone" onclick="callService()">
                    ğŸ“ ì „í™” ë¬¸ì˜
                </button>
            </div>
            <div class="footer-text">
                í”„ë¼ì´ë¹— ë©¤ë²„ ì „ìš©<br>
                ì‰½ê³  ë¹ ë¥¸ ë³‘ì› ì˜ˆì•½ ì„œë¹„ìŠ¤
                <div class="powered-by">Powered by FinthCare</div>
            </div>
        </div>
    </div>

    <script>
        // URLì—ì„œ ì „í™”ë²ˆí˜¸ ì¶”ì¶œ
        function getPhoneFromUrl() {
            const pathSegments = window.location.pathname.split('/');
            return pathSegments[pathSegments.length - 1];
        }

        // í˜„ì¬ ë¡œë“œëœ íšŒì› ì •ë³´ ì €ì¥
        let currentMemberInfo = null;

        // APIì—ì„œ íšŒì› ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        async function fetchMemberInfo(phone) {
            try {
                const response = await fetch(`/api/private?phone=${phone}`);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.message || 'API Error');
                }
                
                return data;
            } catch (error) {
                console.error('íšŒì› ì •ë³´ ì¡°íšŒ ì˜¤ë¥˜:', error);
                return null;
            }
        }

        // íšŒì› ì •ë³´ë¥¼ í˜ì´ì§€ì— ì ìš©
        function updateMemberInfo(memberInfo) {
            if (!memberInfo) return;

            // ë¡œë”© ë©”ì‹œì§€ ìˆ¨ê¸°ê¸°
            const loadingElement = document.getElementById('loading-message');
            if (loadingElement) {
                loadingElement.style.display = 'none';
            }

            // ë©”ì¸ íƒ€ì´í‹€ ì—…ë°ì´íŠ¸
            const mainTitle = document.getElementById('main-title');
            if (mainTitle) {
                mainTitle.innerHTML = `í”„ë¼ì´ë¹— ë©¤ë²„ ì „ìš©<br>í—¬ìŠ¤ì¼€ì–´ ì„œë¹„ìŠ¤`;
                mainTitle.classList.add('loaded');
            }

            // íšŒì› ì •ë³´ í‘œì‹œ (ì†Œì† ë¼ë²¨ + ì´ë¦„)
            const memberInfoElement = document.getElementById('member-info');
            if (memberInfoElement) {
                const affiliation = memberInfo.privateAffiliation || 'ê°œì¸íšŒì›';
                memberInfoElement.innerHTML = `<span style="background: rgba(52, 152, 219, 0.9); color: white; padding: 4px 12px; border-radius: 20px; font-size: 13px; font-weight: 500; margin-right: 8px;">${affiliation}</span>${memberInfo.privateName} ë‹˜`;
            }

            // í˜ì´ì§€ ì œëª© ì—…ë°ì´íŠ¸
            document.title = `í—¬ìŠ¤ì¼€ì–´ ì„œë¹„ìŠ¤ - ${memberInfo.privateName}`;
        }

        // í˜ì´ì§€ ì „í™˜ í•¨ìˆ˜
        function showMainPage() {
            document.getElementById('main-page').style.display = 'block';
            document.getElementById('specialist-page').style.display = 'none';
            document.getElementById('checkup-page').style.display = 'none';
            window.scrollTo(0, 0);
        }

        function showDetailPage(serviceType) {
            document.getElementById('main-page').style.display = 'none';
            document.getElementById('specialist-page').style.display = serviceType === 'specialist' ? 'block' : 'none';
            document.getElementById('checkup-page').style.display = serviceType === 'checkup' ? 'block' : 'none';
            window.scrollTo(0, 0);
        }

        // ì˜ˆì•½ ì‹ ì²­ í•¨ìˆ˜
        function bookService(serviceType) {
            if (!currentMemberInfo) {
                alert('íšŒì› ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                return;
            }

            const baseUrls = {
                specialist: 'https://forms.finth.care/specialist',
                checkup: 'https://forms.finth.care/checkup'
            };

            const params = new URLSearchParams({
                privateid: currentMemberInfo.privateId,
                privatename: currentMemberInfo.privateName,
                privateaffiliation: currentMemberInfo.privateAffiliation
            });

            const url = `${baseUrls[serviceType]}?${params.toString()}`;
            
            window.open(url, '_blank');
        }

        // ìì„¸íˆ ë³´ê¸° ë§í¬ ì—´ê¸°
        function openDetailLink(serviceType) {
            const detailUrls = {
                checkup: 'https://forms.finth.care/checkup-program'
            };

            if (detailUrls[serviceType]) {
                window.open(detailUrls[serviceType], '_blank');
            }
        }

        // ì¹´ì¹´ì˜¤í†¡ ìƒë‹´ ë§í¬ ì—´ê¸°
        function openKakaoChat() {
            window.open('http://pf.kakao.com/_xjizPn/chat', '_blank');
        }

        // ì „í™” ìƒë‹´
        function callService() {
            window.location.href = 'tel:1811-2468';
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ íšŒì› ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        window.addEventListener('DOMContentLoaded', async function() {
            const phone = getPhoneFromUrl();
            
            if (phone && phone !== '') {
                try {
                    console.log('íšŒì› ì •ë³´ ë¡œë”© ì¤‘...', phone);
                    
                    // APIì—ì„œ íšŒì› ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                    currentMemberInfo = await fetchMemberInfo(phone);
                    
                    if (currentMemberInfo && currentMemberInfo.privateName) {
                        updateMemberInfo(currentMemberInfo);
                        console.log('íšŒì› ì •ë³´ ë¡œë“œ ì™„ë£Œ:', currentMemberInfo);
                    } else {
                        console.warn('íšŒì› ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                        // ì—ëŸ¬ í‘œì‹œ
                        const loadingElement = document.getElementById('loading-message');
                        if (loadingElement) {
                            loadingElement.innerHTML = '<div>íšŒì› ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>URLì„ í™•ì¸í•´ ì£¼ì„¸ìš”.</div>';
                        }
                    }
                } catch (error) {
                    console.error('í˜ì´ì§€ ë¡œë“œ ì¤‘ ì˜¤ë¥˜:', error);
                    const loadingElement = document.getElementById('loading-message');
                    if (loadingElement) {
                        loadingElement.innerHTML = '<div>ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</div>';
                    }
                }
            } else {
                console.log('ì „í™”ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.');
                const loadingElement = document.getElementById('loading-message');
                if (loadingElement) {
                    loadingElement.innerHTML = '<div>íšŒì› ì „ìš© í˜ì´ì§€ì…ë‹ˆë‹¤.<br>ì˜¬ë°”ë¥¸ URLë¡œ ì ‘ì†í•´ ì£¼ì„¸ìš”.</div>';
                }
            }
        });
    </script>
</body>
</html>
